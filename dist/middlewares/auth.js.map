{"version":3,"file":"auth.js","names":["jwt","require","verifyUser","req","res","next","authToken","headers","authHeader","token","split","verify","process","env","JWT_SECRET","err","decoded","status","json","console","log","module","exports"],"sources":["../../middlewares/auth.js"],"sourcesContent":["const jwt = require('jsonwebtoken');\r\n\r\nfunction verifyUser(req, res, next) {\r\n  const authToken = req.headers['authorization'];\r\n\r\n  if(authHeader){\r\n    const token = authHeader.split(' ')[1];\r\n    jwt.verify(authToken,process.env.JWT_SECRET,function(err,decoded){\r\n      if(err){\r\n        res.status(401).json({\r\n          \"type\":\"error\",\r\n          \"message\":err\r\n        });\r\n      }else{\r\n        console.log(decoded);\r\n      }\r\n    })\r\n  }else{\r\n    res.status(401).json({\r\n      \"type\":\"erorr\",\r\n      \"message\":\"No auth token provided.\"\r\n    });\r\n  }\r\n}\r\nmodule.exports = verifyUser;"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,cAAc,CAAC;AAEnC,SAASC,UAAUA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAE;EAClC,MAAMC,SAAS,GAAGH,GAAG,CAACI,OAAO,CAAC,eAAe,CAAC;EAE9C,IAAGC,UAAU,EAAC;IACZ,MAAMC,KAAK,GAAGD,UAAU,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACtCV,GAAG,CAACW,MAAM,CAACL,SAAS,EAACM,OAAO,CAACC,GAAG,CAACC,UAAU,EAAC,UAASC,GAAG,EAACC,OAAO,EAAC;MAC/D,IAAGD,GAAG,EAAC;QACLX,GAAG,CAACa,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnB,MAAM,EAAC,OAAO;UACd,SAAS,EAACH;QACZ,CAAC,CAAC;MACJ,CAAC,MAAI;QACHI,OAAO,CAACC,GAAG,CAACJ,OAAO,CAAC;MACtB;IACF,CAAC,CAAC;EACJ,CAAC,MAAI;IACHZ,GAAG,CAACa,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MACnB,MAAM,EAAC,OAAO;MACd,SAAS,EAAC;IACZ,CAAC,CAAC;EACJ;AACF;AACAG,MAAM,CAACC,OAAO,GAAGpB,UAAU","ignoreList":[]}